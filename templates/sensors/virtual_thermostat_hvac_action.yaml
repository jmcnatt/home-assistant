---
################################################################################
# HVAC action for the virtual thermostat based on the living_room_thermostat
# https://www.home-assistant.io/integrations/template/#sensor
################################################################################
- sensor:
    - name: "Virtual Thermostat HVAC Action"
      state: >
        {% set mode = states('input_select.virtual_thermostat_mode') %}
        {% set thermostat = states('climate.living_room_thermostat') %}
        {% if thermostat == 'heating' %}
          heating
        {% elif thermostat == 'cooling' %}
          cooling
        {% elif mode == 'off' %}
          off
        {% else %}
          idle
        {% endif %}
